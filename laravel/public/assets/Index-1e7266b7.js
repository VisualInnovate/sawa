import{_ as k,A as h,a as C,o as m,c as y,e as p,g as _,m as x,b7 as b,w as l,k as i,t as d,l as V,b as a,a9 as w,i as E,aa as P,j as r,p as u,F as S}from"./index-59e8678e.js";import{V as B}from"./VAlert-ba5bd8b8.js";import{b as $,V as I}from"./VCard-67f3ee41.js";const N={data(){return{search:"",headers:[],sideProfile:[],alert_text:null,loading:!0,groupBy:[{key:"side_profile_title"}],active:!1}},methods:{getSideProfile(){h.get("/api/side-profiles/all-evaluations").then(e=>{this.sideProfile=e.data.evaluations,console.log(this.sideProfile),this.loading=!1})},editItem(e){this.$router.push({name:"EditSideProfiles",params:{id:e}})},deleteItem(e){console.log(e),h.delete(`/api/side-profiles/${e}/delete`).then(n=>{n.data.status==200&&(this.alert_text="side profile deleted successfully ",this.sideProfile=n.data.sideProfile)})},create(){this.$router.push({name:"CreateSideProfiles"})},showItem(e){this.$router.push({name:"ShowSideProfiles",params:{id:e}})},onClickOutside(){this.active=!1},editEvaluation(e){this.$router.push({name:"EditEvaluations",params:{id:e}})},deleteEvaluation(e){console.log(e),h.delete(`/api/evaluations/${e}/delete`).then(n=>{n.data.status==200&&(this.alert_text="evaluation deleted successfully ",this.getSideProfile())})},createEvaluation(e){this.$router.push({name:"CreateEvaluations",params:{sideProfile_id:e}})},showEvaluation(e){this.$router.push({name:"ShowEvaluations",params:{id:e}})}},mounted(){this.getSideProfile()},computed:{header(){return this.headers=[{key:"evaluation_title",title:this.$t("evaluation_title")},{title:this.$t("operation")}]}}},F=r("td",null,null,-1);function O(e,n,T,A,s,o){const g=C("v-data-table");return m(),y(S,null,[s.alert_text!=null?(m(),p(B,{key:0,type:"success",variant:"tonal",border:"start",elevation:"2",closable:"","close-label":e.$t("close"),text:s.alert_text,class:"mb-8"},null,8,["close-label","text"])):_("",!0),x((m(),p(V,{text:"Create",color:"green",height:"45",class:"mb-5 mt-5",onClick:o.create},{default:l(()=>[i(d(e.$t("create_button")),1)]),_:1},8,["onClick"])),[[b,o.onClickOutside]]),a(I,null,{default:l(()=>[a($,null,{default:l(()=>[i(d(e.$t("side_profile"))+" ",1),a(w),a(E,{modelValue:s.search,"onUpdate:modelValue":n[0]||(n[0]=t=>s.search=t),"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},null,8,["modelValue"])]),_:1}),a(g,{headers:o.header,items:s.sideProfile,search:s.search,loading:!0,"group-by":s.groupBy,"item-key":"name","show-group-by":""},{top:l(()=>[s.loading?(m(),p(P,{key:0,slot:"progress",style:{color:"#135c65"},indeterminate:""})):_("",!0)]),"group-header":l(({item:t,isGroupOpen:f,toggleGroup:c,columns:D,props:j})=>[r("tr",null,[r("td",null,[a(u,{onClick:v=>c(t)},{default:l(()=>[i(d(f(t)?"mdi-chevron-down":"mdi-chevron-right"),1)]),_:2},1032,["onClick"]),i(" "+d(t.value),1)]),F,r("td",null,[a(u,{small:"",color:"primary",class:"mx-3",onClick:v=>o.createEvaluation(t.items[0].raw.evaluation_id)},{default:l(()=>[i("mdi-plus-box")]),_:2},1032,["onClick"]),a(u,{small:"",color:"primary",class:"mx-3",onClick:v=>o.editItem(t.items[0].raw.side_profile_id)},{default:l(()=>[i("mdi-pencil")]),_:2},1032,["onClick"])])])]),item:l(({item:t,index:f})=>[r("tr",null,[r("td",null,d(e.colgroup),1),r("td",null,d(t.columns.evaluation_title),1),r("td",null,[a(u,{small:"",color:"primary",class:"mx-3",onClick:c=>o.showEvaluation(t.raw.evaluation_id)},{default:l(()=>[i("mdi-eye")]),_:2},1032,["onClick"]),a(u,{small:"",color:"primary",class:"mx-3",onClick:c=>o.editEvaluation(t.raw.evaluation_id)},{default:l(()=>[i("mdi-pencil")]),_:2},1032,["onClick"]),a(u,{small:"",color:"error mx-3",onClick:c=>o.deleteEvaluation(t.raw.evaluation_id)},{default:l(()=>[i("mdi-delete")]),_:2},1032,["onClick"])])])]),_:1},8,["headers","items","search","group-by"])]),_:1})],64)}const z=k(N,[["render",O]]);export{z as default};
